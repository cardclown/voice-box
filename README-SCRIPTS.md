# VoiceBox å¯åŠ¨è„šæœ¬ä½¿ç”¨æŒ‡å—

## ğŸ“‹ è„šæœ¬åˆ—è¡¨

### 1. `start-all.sh` - ä¸€é”®å¯åŠ¨
**åŠŸèƒ½**: æŒ‰æ­£ç¡®é¡ºåºå¯åŠ¨æ‰€æœ‰æœåŠ¡ï¼ˆåç«¯ + å‰ç«¯ï¼‰

**ä½¿ç”¨æ–¹æ³•**:
```bash
./start-all.sh
```

**æ‰§è¡Œæ­¥éª¤**:
1. âœ… æ£€æŸ¥ç¯å¢ƒï¼ˆMavenã€Node.jsã€npmï¼‰
2. ğŸ”¨ ç¼–è¯‘åç«¯é¡¹ç›®ï¼ˆ`mvn clean install`ï¼‰
3. ğŸ“¦ æ£€æŸ¥å¹¶å®‰è£…å‰ç«¯ä¾èµ–ï¼ˆå¦‚éœ€è¦ï¼‰
4. ğŸš€ å¯åŠ¨åç«¯æœåŠ¡ï¼ˆç«¯å£ 10088ï¼‰
5. ğŸ¨ å¯åŠ¨å‰ç«¯æœåŠ¡ï¼ˆç«¯å£ 5173ï¼‰

**ç‰¹ç‚¹**:
- è‡ªåŠ¨æ£€æµ‹ç«¯å£å ç”¨å¹¶æ¸…ç†
- ç­‰å¾…æœåŠ¡å®Œå…¨å¯åŠ¨åæ‰ç»§ç»­
- åå°è¿è¡Œï¼Œä¸é˜»å¡ç»ˆç«¯
- ç”Ÿæˆ PID æ–‡ä»¶ä¾¿äºç®¡ç†

---

### 2. `stop-all.sh` - åœæ­¢æ‰€æœ‰æœåŠ¡
**åŠŸèƒ½**: ä¼˜é›…åœ°åœæ­¢æ‰€æœ‰è¿è¡Œä¸­çš„æœåŠ¡

**ä½¿ç”¨æ–¹æ³•**:
```bash
./stop-all.sh
```

**æ‰§è¡Œæ­¥éª¤**:
1. ğŸ›‘ åœæ­¢åç«¯æœåŠ¡
2. ğŸ›‘ åœæ­¢å‰ç«¯æœåŠ¡
3. ğŸ§¹ æ¸…ç†æ®‹ç•™è¿›ç¨‹ï¼ˆå¦‚æœ‰ï¼‰
4. ğŸ—‘ï¸ åˆ é™¤ PID æ–‡ä»¶

---

### 3. `restart-all.sh` - é‡å¯æ‰€æœ‰æœåŠ¡
**åŠŸèƒ½**: åœæ­¢åé‡æ–°å¯åŠ¨æ‰€æœ‰æœåŠ¡

**ä½¿ç”¨æ–¹æ³•**:
```bash
./restart-all.sh
```

**é€‚ç”¨åœºæ™¯**:
- ä¿®æ”¹äº†ä»£ç éœ€è¦é‡æ–°åŠ è½½
- æœåŠ¡å‡ºç°å¼‚å¸¸éœ€è¦é‡å¯
- é…ç½®æ–‡ä»¶æ›´æ–°å

---

### 4. `status.sh` - æŸ¥çœ‹æœåŠ¡çŠ¶æ€
**åŠŸèƒ½**: å®æ—¶æŸ¥çœ‹æ‰€æœ‰æœåŠ¡çš„è¿è¡ŒçŠ¶æ€

**ä½¿ç”¨æ–¹æ³•**:
```bash
./status.sh
```

**æ˜¾ç¤ºä¿¡æ¯**:
- âœ… æœåŠ¡è¿è¡ŒçŠ¶æ€ï¼ˆè¿è¡Œä¸­/å·²åœæ­¢ï¼‰
- ğŸ”¢ è¿›ç¨‹ PID
- â¤ï¸ å¥åº·æ£€æŸ¥ç»“æœ
- ğŸ“Š æ—¥å¿—æ–‡ä»¶å¤§å°
- ğŸŒ æœåŠ¡è®¿é—®åœ°å€

---

## ğŸ¯ å¿«é€Ÿå¼€å§‹

### é¦–æ¬¡ä½¿ç”¨
```bash
# 1. èµ‹äºˆè„šæœ¬æ‰§è¡Œæƒé™ï¼ˆå·²è‡ªåŠ¨å®Œæˆï¼‰
chmod +x *.sh

# 2. å¯åŠ¨æ‰€æœ‰æœåŠ¡
./start-all.sh

# 3. ç­‰å¾…å¯åŠ¨å®Œæˆåè®¿é—®
# å‰ç«¯: http://localhost:5173
# åç«¯: http://localhost:10088
```

### æ—¥å¸¸ä½¿ç”¨
```bash
# å¯åŠ¨æœåŠ¡
./start-all.sh

# æŸ¥çœ‹çŠ¶æ€
./status.sh

# åœæ­¢æœåŠ¡
./stop-all.sh

# é‡å¯æœåŠ¡
./restart-all.sh
```

---

## ğŸ“ æ—¥å¿—æ–‡ä»¶

### æŸ¥çœ‹æ—¥å¿—
```bash
# æŸ¥çœ‹åç«¯æ—¥å¿—
tail -f backend.log

# æŸ¥çœ‹å‰ç«¯æ—¥å¿—
tail -f frontend.log

# æŸ¥çœ‹æœ€è¿‘ 100 è¡Œ
tail -n 100 backend.log
```

### æ¸…ç†æ—¥å¿—
```bash
# æ¸…ç©ºæ—¥å¿—æ–‡ä»¶
> backend.log
> frontend.log

# æˆ–åˆ é™¤æ—¥å¿—æ–‡ä»¶
rm -f backend.log frontend.log
```

---

## ğŸ”§ æ•…éšœæ’æŸ¥

### é—®é¢˜ 1: ç«¯å£è¢«å ç”¨
**ç°è±¡**: å¯åŠ¨å¤±è´¥ï¼Œæç¤ºç«¯å£å·²è¢«å ç”¨

**è§£å†³æ–¹æ¡ˆ**:
```bash
# æ–¹æ¡ˆ 1: ä½¿ç”¨åœæ­¢è„šæœ¬æ¸…ç†
./stop-all.sh

# æ–¹æ¡ˆ 2: æ‰‹åŠ¨æŸ¥æ‰¾å¹¶æ€æ­»è¿›ç¨‹
lsof -ti:10088 | xargs kill -9  # åç«¯
lsof -ti:5173 | xargs kill -9   # å‰ç«¯
```

### é—®é¢˜ 2: ç¼–è¯‘å¤±è´¥
**ç°è±¡**: å¯åŠ¨è„šæœ¬åœ¨ç¼–è¯‘é˜¶æ®µå¤±è´¥

**è§£å†³æ–¹æ¡ˆ**:
```bash
# æ‰‹åŠ¨ç¼–è¯‘æŸ¥çœ‹è¯¦ç»†é”™è¯¯
mvn clean install -DskipTests

# å¦‚æœæ˜¯ä¾èµ–é—®é¢˜ï¼Œæ¸…ç† Maven ç¼“å­˜
rm -rf ~/.m2/repository/com/example/voicebox
mvn clean install -DskipTests
```

### é—®é¢˜ 3: å‰ç«¯ä¾èµ–å®‰è£…å¤±è´¥
**ç°è±¡**: npm install æŠ¥é”™

**è§£å†³æ–¹æ¡ˆ**:
```bash
cd app-web

# æ¸…ç†ç¼“å­˜é‡æ–°å®‰è£…
rm -rf node_modules package-lock.json
npm cache clean --force
npm install
```

### é—®é¢˜ 4: æœåŠ¡å¯åŠ¨ä½†æ— æ³•è®¿é—®
**ç°è±¡**: è¿›ç¨‹å­˜åœ¨ä½† API ä¸å“åº”

**è§£å†³æ–¹æ¡ˆ**:
```bash
# 1. æŸ¥çœ‹æ—¥å¿—
tail -f backend.log

# 2. æ£€æŸ¥é…ç½®æ–‡ä»¶
cat config.properties

# 3. é‡å¯æœåŠ¡
./restart-all.sh
```

---

## âš™ï¸ é…ç½®è¯´æ˜

### ç«¯å£é…ç½®
- **åç«¯**: 10088ï¼ˆå¯åœ¨ `application.properties` ä¿®æ”¹ï¼‰
- **å‰ç«¯**: 5173ï¼ˆå¯åœ¨ `vite.config.js` ä¿®æ”¹ï¼‰

### ç¯å¢ƒè¦æ±‚
- **Java**: 11 æˆ–æ›´é«˜ç‰ˆæœ¬
- **Maven**: 3.6 æˆ–æ›´é«˜ç‰ˆæœ¬
- **Node.js**: 16 æˆ–æ›´é«˜ç‰ˆæœ¬
- **npm**: 8 æˆ–æ›´é«˜ç‰ˆæœ¬

---

## ğŸ’¡ é«˜çº§ç”¨æ³•

### åªå¯åŠ¨åç«¯
```bash
cd /Users/jd/mydesk/cursorFiles/voice-box
mvn spring-boot:run -pl app-device -Dspring-boot.run.main-class=com.example.voicebox.app.device.DeviceApp
```

### åªå¯åŠ¨å‰ç«¯
```bash
cd app-web
npm run dev
```

### ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²
```bash
# 1. ç¼–è¯‘åç«¯
mvn clean package -DskipTests

# 2. è¿è¡Œ JAR
java -jar app-device/target/app-device-0.0.1-SNAPSHOT.jar

# 3. æ„å»ºå‰ç«¯
cd app-web
npm run build

# 4. ä½¿ç”¨ Nginx æˆ–å…¶ä»–æœåŠ¡å™¨éƒ¨ç½² dist ç›®å½•
```

---

## ğŸ†˜ è·å–å¸®åŠ©

å¦‚æœé‡åˆ°é—®é¢˜ï¼š
1. æŸ¥çœ‹æ—¥å¿—æ–‡ä»¶ï¼š`backend.log` å’Œ `frontend.log`
2. è¿è¡ŒçŠ¶æ€æ£€æŸ¥ï¼š`./status.sh`
3. æŸ¥çœ‹è¯¦ç»†é”™è¯¯ï¼šæ‰‹åŠ¨è¿è¡Œç¼–è¯‘å’Œå¯åŠ¨å‘½ä»¤

---

## ğŸ“Œ æ³¨æ„äº‹é¡¹

1. **ä¸è¦ç›´æ¥ Ctrl+C**: å¯åŠ¨è„šæœ¬ä¼šåœ¨åå°è¿è¡ŒæœåŠ¡ï¼Œç›´æ¥ Ctrl+C ä¸ä¼šåœæ­¢æœåŠ¡ï¼Œè¯·ä½¿ç”¨ `./stop-all.sh`
2. **PID æ–‡ä»¶**: è„šæœ¬ä¼šç”Ÿæˆ `backend.pid` å’Œ `frontend.pid`ï¼Œè¯·å‹¿æ‰‹åŠ¨åˆ é™¤
3. **æ—¥å¿—è½®è½¬**: æ—¥å¿—æ–‡ä»¶ä¼šæŒç»­å¢é•¿ï¼Œå»ºè®®å®šæœŸæ¸…ç†
4. **æƒé™é—®é¢˜**: å¦‚æœè„šæœ¬æ— æ³•æ‰§è¡Œï¼Œè¿è¡Œ `chmod +x *.sh`

---

## ğŸ‰ å®Œæˆï¼

ç°åœ¨ä½ å¯ä»¥ä½¿ç”¨è¿™äº›è„šæœ¬è½»æ¾ç®¡ç† VoiceBox é¡¹ç›®äº†ï¼

**å¿«é€Ÿå‘½ä»¤**:
- å¯åŠ¨: `./start-all.sh`
- åœæ­¢: `./stop-all.sh`
- é‡å¯: `./restart-all.sh`
- çŠ¶æ€: `./status.sh`

