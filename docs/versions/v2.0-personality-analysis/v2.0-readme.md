# v2.0 ç”¨æˆ·ä¸ªæ€§åˆ†æç³»ç»Ÿ

> åŸºäºå¤§äº”äººæ ¼æ¨¡å‹çš„æ™ºèƒ½ä¸ªæ€§åŒ–AIå¯¹è¯ç³»ç»Ÿ

[![Version](https://img.shields.io/badge/version-2.0-blue.svg)](https://github.com/voicebox/personality-analysis)
[![Status](https://img.shields.io/badge/status-ready-green.svg)](https://github.com/voicebox/personality-analysis)
[![License](https://img.shields.io/badge/license-MIT-orange.svg)](LICENSE)

---

## ğŸ“– ç®€ä»‹

v2.0ç”¨æˆ·ä¸ªæ€§åˆ†æç³»ç»Ÿæ˜¯VoiceBoxçš„æ ¸å¿ƒåŠŸèƒ½ä¹‹ä¸€ï¼Œé€šè¿‡åˆ†æç”¨æˆ·çš„å¯¹è¯è¡Œä¸ºï¼Œå»ºç«‹ä¸ªæ€§åŒ–çš„ç”¨æˆ·ç”»åƒï¼Œå¹¶æ ¹æ®ç”»åƒè°ƒæ•´AIçš„å“åº”ç­–ç•¥ï¼Œä¸ºæ¯ä¸ªç”¨æˆ·æä¾›å®šåˆ¶åŒ–çš„å¯¹è¯ä½“éªŒã€‚

### æ ¸å¿ƒç‰¹æ€§

ğŸ¯ **å¤§äº”äººæ ¼æ¨¡å‹** - åŸºäºå¿ƒç†å­¦çš„ç§‘å­¦æ¨¡å‹  
ğŸš€ **è½»é‡çº§NLP** - æ— éœ€é‡é‡çº§ä¾èµ–ï¼Œå“åº”å¿«é€Ÿ  
ğŸ§  **æ™ºèƒ½å­¦ä¹ ** - æ ¹æ®ç”¨æˆ·åé¦ˆæŒç»­ä¼˜åŒ–  
ğŸ¨ **ä¸ªæ€§åŒ–å“åº”** - è‡ªåŠ¨è°ƒæ•´AIå›ç­”é£æ ¼  
ğŸ“Š **æ•°æ®å¯è§†åŒ–** - ç›´è§‚å±•ç¤ºç”¨æˆ·ç”»åƒ  

---

## ğŸš€ å¿«é€Ÿå¼€å§‹

### å‰ç½®è¦æ±‚

- JDK 1.8+
- Maven 3.6.3+
- MySQL 5.7+
- Node.js 16+ (å‰ç«¯)

### å®‰è£…æ­¥éª¤

```bash
# 1. å…‹éš†é¡¹ç›®
git clone https://github.com/voicebox/personality-analysis.git
cd personality-analysis

# 2. æ•°æ®åº“åˆå§‹åŒ–
mysql -u root -p voicebox < app-device/src/main/resources/db/migration/V2.0__personality_analysis_tables.sql

# 3. å¯åŠ¨åç«¯
cd app-device
mvn clean install
mvn spring-boot:run

# 4. éªŒè¯æœåŠ¡
curl http://localhost:10088/api/personality/health
```

### 5åˆ†é’Ÿä½“éªŒ

```bash
# 1. ä¸ºç”¨æˆ·æå–æ¶ˆæ¯ç‰¹å¾
curl -X POST http://localhost:10088/api/personality/extract-features \
  -H "Content-Type: application/json" \
  -d '{
    "userId": 1,
    "sessionId": 1,
    "messageId": 1,
    "content": "ä½ å¥½ï¼Œæˆ‘æƒ³å­¦ä¹ Javaç¼–ç¨‹"
  }'

# 2. åˆ†æç”¨æˆ·ä¸ªæ€§
curl -X POST http://localhost:10088/api/personality/analyze/1

# 3. è·å–ç”¨æˆ·ç”»åƒ
curl http://localhost:10088/api/personality/profile/1

# 4. è·å–å“åº”ç­–ç•¥
curl http://localhost:10088/api/personality/strategy/1
```

---

## ğŸ“Š ç³»ç»Ÿæ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      å‰ç«¯å±‚ (Vue.js)                     â”‚
â”‚  ç”¨æˆ·ç”»åƒå±•ç¤º | ä¸ªæ€§åŒ–è®¾ç½® | åé¦ˆæ”¶é›† | æ•°æ®å¯è§†åŒ–      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    APIæ¥å£å±‚ (Spring)                    â”‚
â”‚  PersonalityController | ChatIntegrationController      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   ä¸šåŠ¡é€»è¾‘å±‚ (Service)                   â”‚
â”‚  FeatureExtraction | PersonalityAnalysis | Learning     â”‚
â”‚  ResponseStrategy | ChatIntegration                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  æ•°æ®è®¿é—®å±‚ (Repository)                 â”‚
â”‚  UserProfile | ConversationFeature | UserFeedback       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    æ•°æ®åº“å±‚ (MySQL)                      â”‚
â”‚  user_profiles | conversation_features | user_feedback  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ¯ æ ¸å¿ƒåŠŸèƒ½

### 1. ç‰¹å¾æå–

ä»ç”¨æˆ·æ¶ˆæ¯ä¸­æå–å¤šç»´åº¦ç‰¹å¾ï¼š

- **è¯­è¨€å­¦ç‰¹å¾**: æ¶ˆæ¯é•¿åº¦ã€è¯æ•°ã€å¥å­æ•°ã€è¯æ±‡ä¸°å¯Œåº¦
- **è¯­ä¹‰ç‰¹å¾**: ä¸»é¢˜ã€æƒ…æ„Ÿã€æ„å›¾ã€å…³é”®è¯
- **å¯¹è¯æ¨¡å¼**: é—®å·ã€æ„Ÿå¹å·ã€è¡¨æƒ…ç¬¦å·ã€ä»£ç å—

### 2. ä¸ªæ€§åˆ†æ

åŸºäºå¤§äº”äººæ ¼æ¨¡å‹ï¼ˆOCEANï¼‰ï¼š

- **å¼€æ”¾æ€§** (Openness): å¯¹æ–°æƒ³æ³•å’Œåˆ›æ–°çš„æ¥å—ç¨‹åº¦
- **å°½è´£æ€§** (Conscientiousness): å¯¹ç»†èŠ‚å’Œå‡†ç¡®æ€§çš„é‡è§†ç¨‹åº¦
- **å¤–å‘æ€§** (Extraversion): ç¤¾äº¤äº’åŠ¨çš„æ´»è·ƒç¨‹åº¦
- **å®œäººæ€§** (Agreeableness): å‹å¥½å’Œåˆä½œçš„å€¾å‘
- **ç¥ç»è´¨** (Neuroticism): æƒ…ç»ªç¨³å®šæ€§

### 3. å“åº”ç­–ç•¥

æ ¹æ®ç”¨æˆ·ç”»åƒè‡ªåŠ¨è°ƒæ•´ï¼š

- **å›ç­”é•¿åº¦**: ç®€æ´ / é€‚ä¸­ / è¯¦ç»†
- **è¯­è¨€é£æ ¼**: æ­£å¼ / è‡ªç„¶ / è½»æ¾
- **äº’åŠ¨è¯­æ°”**: ä¸“ä¸š / ä¸­æ€§ / å‹å¥½
- **ç»†èŠ‚å±‚æ¬¡**: ä½ / ä¸­ / é«˜
- **ç¤ºä¾‹ä½¿ç”¨**: æ˜¯ / å¦

### 4. æ™ºèƒ½å­¦ä¹ 

æ ¹æ®ç”¨æˆ·åé¦ˆæŒç»­ä¼˜åŒ–ï¼š

- æ­£é¢åé¦ˆ â†’ å¼ºåŒ–å½“å‰ç­–ç•¥
- è´Ÿé¢åé¦ˆ â†’ è°ƒæ•´å“åº”æ–¹å¼
- é‡æ–°ç”Ÿæˆ â†’ å°è¯•ä¸åŒé£æ ¼

---

## ğŸ“ˆ ä½¿ç”¨ç¤ºä¾‹

### Javaé›†æˆ

```java
@Autowired
private ChatPersonalityIntegrationService integrationService;

// 1. å¤„ç†ç”¨æˆ·æ¶ˆæ¯
public void handleUserMessage(ChatMessage message) {
    integrationService.handleUserMessage(message);
}

// 2. ç”Ÿæˆä¸ªæ€§åŒ–æç¤ºè¯
public String generateAIResponse(Long userId, String userMessage) {
    String basePrompt = "ä½ æ˜¯ä¸€ä¸ªæ™ºèƒ½åŠ©æ‰‹ã€‚";
    String personalizedPrompt = integrationService.generatePersonalizedPrompt(userId, basePrompt);
    return callAI(personalizedPrompt, userMessage);
}
```

### JavaScripté›†æˆ

```javascript
// è·å–ç”¨æˆ·ç”»åƒ
async function getUserProfile(userId) {
  const response = await fetch(`/api/personality/profile/${userId}`);
  const data = await response.json();
  return data.data.profile;
}

// æäº¤åé¦ˆ
async function submitFeedback(userId, messageId, type) {
  await fetch('/api/personality/feedback', {
    method: 'POST',
    headers: { 'Content-Type': 'application/json' },
    body: JSON.stringify({
      userId, messageId,
      feedbackType: type,
      feedbackValue: type === 'like' ? 1 : -1
    })
  });
}
```

---

## ğŸ“š æ–‡æ¡£

### å¿«é€Ÿå…¥é—¨
- [å¿«é€Ÿå¼€å§‹æŒ‡å—](V2.0_QUICK_START.md) - 5åˆ†é’Ÿå¿«é€Ÿä¸Šæ‰‹
- [é›†æˆæŒ‡å—](V2.0_INTEGRATION_GUIDE.md) - è¯¦ç»†çš„é›†æˆæ­¥éª¤

### å¼€å‘æ–‡æ¡£
- [éœ€æ±‚æ–‡æ¡£](versions/v2.0-personality-analysis/requirements.md)
- [è®¾è®¡æ–‡æ¡£](versions/v2.0-personality-analysis/design.md)
- [å®æ–½è®¡åˆ’](versions/v2.0-personality-analysis/implementation-plan.md)

### é¡¹ç›®æ€»ç»“
- [å®æ–½è¿›åº¦](V2.0_IMPLEMENTATION_PROGRESS.md)
- [å®Œæˆæ€»ç»“](V2.0_COMPLETION_SUMMARY.md)
- [æœ€ç»ˆæ€»ç»“](V2.0_FINAL_SUMMARY.md)

---

## ğŸ§ª æµ‹è¯•

```bash
# è¿è¡Œå•å…ƒæµ‹è¯•
cd app-device
mvn test

# è¿è¡Œç‰¹å®šæµ‹è¯•
mvn test -Dtest=FeatureExtractionServiceTest

# æŸ¥çœ‹æµ‹è¯•è¦†ç›–ç‡
mvn jacoco:report
open target/site/jacoco/index.html
```

---

## ğŸ“Š æ€§èƒ½æŒ‡æ ‡

| æŒ‡æ ‡ | æ•°å€¼ | è¯´æ˜ |
|------|------|------|
| ç‰¹å¾æå–é€Ÿåº¦ | <10ms | å•æ¡æ¶ˆæ¯å¤„ç†æ—¶é—´ |
| ç”»åƒåˆ†æé€Ÿåº¦ | <500ms | 100æ¡æ¶ˆæ¯åˆ†ææ—¶é—´ |
| APIå“åº”æ—¶é—´ | <100ms | å¹³å‡å“åº”æ—¶é—´ |
| æ•°æ®åº“æŸ¥è¯¢ | <50ms | å¹³å‡æŸ¥è¯¢æ—¶é—´ |
| å†…å­˜å ç”¨ | <100MB | é¢å¤–å†…å­˜å¼€é”€ |

---

## ğŸ”§ é…ç½®

### åº”ç”¨é…ç½®

```properties
# application.properties

# ä¸ªæ€§åŒ–åŠŸèƒ½å¼€å…³
personality.enabled=true

# ç‰¹å¾æå–é…ç½®
personality.feature.async=true
personality.feature.batch-size=100

# ç”»åƒåˆ†æé…ç½®
personality.analysis.min-messages=50
personality.analysis.confidence-threshold=0.5

# å®šæ—¶ä»»åŠ¡é…ç½®
personality.scheduler.enabled=true
personality.scheduler.update-cron=0 0 2 * * ?
```

### çº¿ç¨‹æ± é…ç½®

```java
@Bean
public Executor personalityTaskExecutor() {
    ThreadPoolTaskExecutor executor = new ThreadPoolTaskExecutor();
    executor.setCorePoolSize(5);
    executor.setMaxPoolSize(10);
    executor.setQueueCapacity(100);
    executor.setThreadNamePrefix("personality-");
    executor.initialize();
    return executor;
}
```

---

## ğŸ› æ•…éšœæ’æŸ¥

### å¸¸è§é—®é¢˜

**Q: ç‰¹å¾æå–ä¸å‡†ç¡®ï¼Ÿ**  
A: æ‰©å……æƒ…æ„Ÿè¯å…¸å’Œä¸»é¢˜å…³é”®è¯ï¼Œå¢åŠ è®­ç»ƒæ•°æ®

**Q: ç”»åƒç½®ä¿¡åº¦ä¸€ç›´å¾ˆä½ï¼Ÿ**  
A: ç¡®ä¿ç”¨æˆ·æœ‰è¶³å¤Ÿçš„æ¶ˆæ¯æ•°æ®ï¼ˆå»ºè®®50+æ¡ï¼‰

**Q: å®šæ—¶ä»»åŠ¡æ²¡æœ‰æ‰§è¡Œï¼Ÿ**  
A: æ£€æŸ¥@EnableSchedulingæ˜¯å¦å¯ç”¨ï¼ŒæŸ¥çœ‹æ—¥å¿—ç¡®è®¤

**Q: æ€§èƒ½é—®é¢˜ï¼Ÿ**  
A: å¯ç”¨Redisç¼“å­˜ï¼Œä¼˜åŒ–æ•°æ®åº“æŸ¥è¯¢ï¼Œä½¿ç”¨å¼‚æ­¥å¤„ç†

è¯¦ç»†æ•…éšœæ’æŸ¥è¯·å‚è€ƒï¼š[æ•…éšœæ’æŸ¥æŒ‡å—](V2.0_TROUBLESHOOTING.md)

---

## ğŸ¤ è´¡çŒ®

æ¬¢è¿è´¡çŒ®ä»£ç ã€æŠ¥å‘Šé—®é¢˜æˆ–æå‡ºå»ºè®®ï¼

1. Fork é¡¹ç›®
2. åˆ›å»ºç‰¹æ€§åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add some AmazingFeature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. å¼€å¯ Pull Request

---

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯ - è¯¦è§ [LICENSE](LICENSE) æ–‡ä»¶

---

## ğŸ“ è”ç³»æˆ‘ä»¬

- æŠ€æœ¯æ”¯æŒï¼štech-support@voicebox.com
- æ–‡æ¡£åé¦ˆï¼šdocs@voicebox.com
- å®˜æ–¹ç½‘ç«™ï¼šhttps://voicebox.com

---

## ğŸŒŸ Star History

å¦‚æœè¿™ä¸ªé¡¹ç›®å¯¹ä½ æœ‰å¸®åŠ©ï¼Œè¯·ç»™æˆ‘ä»¬ä¸€ä¸ª â­ï¸

---

**å¼€å‘å›¢é˜Ÿ**: VoiceBox Team  
**ç‰ˆæœ¬**: v2.0  
**çŠ¶æ€**: ç”Ÿäº§å°±ç»ª  
**æœ€åæ›´æ–°**: 2024-01-15
