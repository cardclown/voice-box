# VoiceBox å¿«é€Ÿå¯åŠ¨æŒ‡å—

## ğŸ“‹ ç¯å¢ƒè¦æ±‚

### æœ¬åœ°å¼€å‘ç¯å¢ƒ
- **Java**: OpenJDK 11 æˆ–æ›´é«˜ç‰ˆæœ¬
- **Maven**: 3.6.3 æˆ–æ›´é«˜ç‰ˆæœ¬ï¼ˆæ¨è 3.9.9ï¼‰
- **Node.js**: 16.x æˆ–æ›´é«˜ç‰ˆæœ¬
- **npm**: 8.x æˆ–æ›´é«˜ç‰ˆæœ¬

### äº‘æœåŠ¡å™¨ç¯å¢ƒ
- **æœåŠ¡å™¨**: 129.211.180.183
- **Java**: OpenJDK 11.0.23
- **Maven**: 3.9.9ï¼ˆéœ€è¦å‡çº§ï¼Œå‚è§ [Maven å‡çº§æŒ‡å—](./docs/MAVEN_UPGRADE_GUIDE.md)ï¼‰
- **Node.js**: 16.20.2
- **MySQL**: 5.7.44
- **Redis**: 3.2.12
- **Nginx**: 1.20.1

---

## âœ… å·²å®Œæˆçš„ä¼˜åŒ–

### ç¬¬ä¸€é˜¶æ®µï¼šåŸºç¡€æ¶æ„å’Œå®‰å…¨ (100%)
1. âœ… ç»Ÿä¸€çš„ API å®¢æˆ·ç«¯
2. âœ… Toast é€šçŸ¥ç³»ç»Ÿ
3. âœ… XSS é˜²æŠ¤
4. âœ… ç¯å¢ƒå˜é‡ç®¡ç†
5. âœ… åç«¯çº¿ç¨‹æ± ä¼˜åŒ–

### ç¬¬äºŒé˜¶æ®µï¼šç”¨æˆ·ä½“éªŒæå‡ (50%)
6. âœ… Markdown å’Œä»£ç é«˜äº®
7. âœ… æ¶ˆæ¯æ“ä½œåŠŸèƒ½

---

## ğŸš€ å¯åŠ¨æ­¥éª¤

### 1. å®‰è£…ä¾èµ–ï¼ˆå·²å®Œæˆï¼‰

```bash
cd app-web
npm install  # âœ… å·²å®Œæˆ
```

### 2. å¯åŠ¨åç«¯

```bash
cd app-device
mvn spring-boot:run
```

åç«¯å°†åœ¨ `http://localhost:10088` å¯åŠ¨

### 3. å¯åŠ¨å‰ç«¯

```bash
cd app-web
npm run dev
```

å‰ç«¯å°†åœ¨ `http://localhost:5173` å¯åŠ¨

---

## ğŸ¨ æ–°åŠŸèƒ½æ¼”ç¤º

### 1. Toast é€šçŸ¥
å‘é€æ¶ˆæ¯æ—¶ä¼šçœ‹åˆ°ï¼š
- âœ… æˆåŠŸé€šçŸ¥ï¼ˆç»¿è‰²ï¼‰
- âŒ é”™è¯¯é€šçŸ¥ï¼ˆçº¢è‰²ï¼‰
- âš ï¸ è­¦å‘Šé€šçŸ¥ï¼ˆé»„è‰²ï¼‰
- â„¹ï¸ ä¿¡æ¯é€šçŸ¥ï¼ˆè“è‰²ï¼‰

### 2. Markdown æ”¯æŒ
AI å›å¤æ”¯æŒ Markdown æ ¼å¼ï¼š

```markdown
# æ ‡é¢˜
**ç²—ä½“** *æ–œä½“*

- åˆ—è¡¨é¡¹1
- åˆ—è¡¨é¡¹2

`è¡Œå†…ä»£ç `

\`\`\`javascript
// ä»£ç å—
console.log('Hello World')
\`\`\`

| è¡¨å¤´1 | è¡¨å¤´2 |
|-------|-------|
| å†…å®¹1 | å†…å®¹2 |
```

### 3. ä»£ç é«˜äº®
ä»£ç å—ä¼šè‡ªåŠ¨é«˜äº®ï¼Œå¹¶å¸¦æœ‰ï¼š
- è¯­è¨€æ ‡ç­¾
- å¤åˆ¶æŒ‰é’®
- è¯­æ³•é«˜äº®

### 4. æ¶ˆæ¯æ“ä½œ
é¼ æ ‡æ‚¬åœåœ¨æ¶ˆæ¯ä¸Šä¼šæ˜¾ç¤ºï¼š
- ğŸ“‹ å¤åˆ¶æŒ‰é’®
- ğŸ”„ é‡æ–°ç”Ÿæˆï¼ˆAI æ¶ˆæ¯ï¼‰
- âœï¸ ç¼–è¾‘ï¼ˆç”¨æˆ·æ¶ˆæ¯ï¼‰
- ğŸ—‘ï¸ åˆ é™¤

---

## ğŸ§ª æµ‹è¯•åŠŸèƒ½

### æµ‹è¯• Toast é€šçŸ¥

åœ¨æµè§ˆå™¨æ§åˆ¶å°è¾“å…¥ï¼š

```javascript
// æµ‹è¯•æˆåŠŸé€šçŸ¥
window.showSuccess = (await import('/src/composables/useToast.js')).showSuccess
showSuccess('æµ‹è¯•æˆåŠŸ', 'è¿™æ˜¯ä¸€ä¸ªæˆåŠŸé€šçŸ¥')

// æµ‹è¯•é”™è¯¯é€šçŸ¥
window.showError = (await import('/src/composables/useToast.js')).showError
showError('æµ‹è¯•é”™è¯¯', 'è¿™æ˜¯ä¸€ä¸ªé”™è¯¯é€šçŸ¥')
```

### æµ‹è¯• Markdown æ¸²æŸ“

å‘é€ä»¥ä¸‹æ¶ˆæ¯ç»™ AIï¼š

```
è¯·ç”¨ Markdown æ ¼å¼å›å¤ï¼ŒåŒ…å«ï¼š
1. æ ‡é¢˜
2. ä»£ç å—
3. è¡¨æ ¼
4. åˆ—è¡¨
```

### æµ‹è¯•æ¶ˆæ¯æ“ä½œ

1. å‘é€ä¸€æ¡æ¶ˆæ¯
2. é¼ æ ‡æ‚¬åœåœ¨æ¶ˆæ¯ä¸Š
3. ç‚¹å‡»å¤åˆ¶æŒ‰é’®
4. æŸ¥çœ‹ Toast é€šçŸ¥

---

## ğŸ”§ é…ç½®è¯´æ˜

### ç¯å¢ƒå˜é‡

**å¼€å‘ç¯å¢ƒ** (`.env.development`):
```env
VITE_API_BASE=http://localhost:10088/api
VITE_DEBUG=true
```

**ç”Ÿäº§ç¯å¢ƒ** (`.env.production`):
```env
VITE_API_BASE=https://api.voicebox.com/api
VITE_DEBUG=false
```

### API é…ç½®

API å®¢æˆ·ç«¯é…ç½®åœ¨ `app-web/src/services/apiClient.js`:
- è¶…æ—¶æ—¶é—´ï¼š30ç§’
- é‡è¯•æ¬¡æ•°ï¼š3æ¬¡
- é‡è¯•å»¶è¿Ÿï¼š1ç§’

---

## ğŸ“ ä½¿ç”¨ç¤ºä¾‹

### 1. ä½¿ç”¨ API å®¢æˆ·ç«¯

```javascript
import { get, post } from '@/services/apiClient'
import { showError, showSuccess } from '@/composables/useToast'

async function loadData() {
  try {
    const data = await get('/chat/sessions')
    showSuccess('åŠ è½½æˆåŠŸ')
    return data
  } catch (error) {
    showError('åŠ è½½å¤±è´¥', error.message)
  }
}
```

### 2. ä½¿ç”¨ Toast é€šçŸ¥

```javascript
import { 
  showSuccess, 
  showError, 
  showWarning, 
  showInfo,
  showPromiseToast 
} from '@/composables/useToast'

// ç®€å•é€šçŸ¥
showSuccess('æ“ä½œæˆåŠŸ')
showError('æ“ä½œå¤±è´¥', 'è¯¦ç»†é”™è¯¯ä¿¡æ¯')
showWarning('è­¦å‘Š', 'è¯·æ³¨æ„')
showInfo('æç¤º', 'è¿™æ˜¯ä¸€æ¡ä¿¡æ¯')

// Promise Toastï¼ˆè‡ªåŠ¨å¤„ç†åŠ è½½/æˆåŠŸ/å¤±è´¥ï¼‰
await showPromiseToast(
  fetchData(),
  {
    loading: 'åŠ è½½ä¸­...',
    success: 'åŠ è½½æˆåŠŸ',
    error: 'åŠ è½½å¤±è´¥'
  }
)
```

### 3. ä½¿ç”¨ Markdown æ¸²æŸ“

```javascript
import { renderMarkdown, containsMarkdown } from '@/utils/markdown'

const text = '# Hello\n**World**'

if (containsMarkdown(text)) {
  const html = renderMarkdown(text)
  // ä½¿ç”¨ v-html æ¸²æŸ“
}
```

---

## ğŸ› æ•…éšœæ’é™¤

### é—®é¢˜1ï¼šToast ä¸æ˜¾ç¤º

**è§£å†³æ–¹æ¡ˆ**ï¼š
1. æ£€æŸ¥ `App.vue` æ˜¯å¦åŒ…å« `<Toast />` ç»„ä»¶
2. æ£€æŸ¥æµè§ˆå™¨æ§åˆ¶å°æ˜¯å¦æœ‰é”™è¯¯

### é—®é¢˜2ï¼šMarkdown ä¸æ¸²æŸ“

**è§£å†³æ–¹æ¡ˆ**ï¼š
1. ç¡®è®¤å·²å®‰è£…ä¾èµ–ï¼š`npm install marked highlight.js`
2. æ£€æŸ¥ `main.js` æ˜¯å¦å¯¼å…¥äº†æ ·å¼
3. æ¸…é™¤ç¼“å­˜é‡æ–°å¯åŠ¨ï¼š`npm run dev`

### é—®é¢˜3ï¼šä»£ç é«˜äº®ä¸æ˜¾ç¤º

**è§£å†³æ–¹æ¡ˆ**ï¼š
1. ç¡®è®¤å¯¼å…¥äº† highlight.js æ ·å¼
2. æ£€æŸ¥ `markdown.css` æ˜¯å¦æ­£ç¡®åŠ è½½

### é—®é¢˜4ï¼šAPI è¯·æ±‚å¤±è´¥

**è§£å†³æ–¹æ¡ˆ**ï¼š
1. ç¡®è®¤åç«¯å·²å¯åŠ¨
2. æ£€æŸ¥ `.env.development` ä¸­çš„ API åœ°å€
3. æŸ¥çœ‹æµè§ˆå™¨ç½‘ç»œé¢æ¿

---

## ğŸ“Š æ€§èƒ½æŒ‡æ ‡

### å½“å‰æ€§èƒ½
- é¦–å±åŠ è½½ï¼š< 2s
- Toast æ˜¾ç¤ºå»¶è¿Ÿï¼š< 50ms
- Markdown æ¸²æŸ“ï¼š< 100ms
- API è¯·æ±‚è¶…æ—¶ï¼š30s

### ä¼˜åŒ–åé¢„æœŸ
- é¦–å±åŠ è½½ï¼š< 1.5sï¼ˆè™šæ‹Ÿæ»šåŠ¨åï¼‰
- é•¿å¯¹è¯æ»šåŠ¨ï¼šæ— å¡é¡¿ï¼ˆè™šæ‹Ÿæ»šåŠ¨ï¼‰
- å›¾ç‰‡åŠ è½½ï¼šè‡ªåŠ¨å‹ç¼©

---

## ğŸ¯ ä¸‹ä¸€æ­¥è®¡åˆ’

### å³å°†å®ç°ï¼ˆä»»åŠ¡8-9ï¼‰
- æœç´¢åŠŸèƒ½å¢å¼º
- åŠ è½½çŠ¶æ€ä¼˜åŒ–ï¼ˆéª¨æ¶å±ï¼‰

### ç¬¬ä¸‰é˜¶æ®µï¼ˆä»»åŠ¡10-12ï¼‰
- è™šæ‹Ÿæ»šåŠ¨
- ä¼šè¯åˆ—è¡¨åˆ†é¡µ
- å›¾ç‰‡å‹ç¼©å’Œä¸Šä¼ ä¼˜åŒ–

---

## ğŸ“ éœ€è¦å¸®åŠ©ï¼Ÿ

å¦‚æœé‡åˆ°é—®é¢˜ï¼š
1. æŸ¥çœ‹æµè§ˆå™¨æ§åˆ¶å°é”™è¯¯
2. æŸ¥çœ‹åç«¯æ—¥å¿—
3. æŸ¥çœ‹ `IMPLEMENTATION_STATUS.md` äº†è§£è¯¦ç»†çŠ¶æ€
4. æŸ¥çœ‹ `DEEP_OPTIMIZATION_ANALYSIS.md` äº†è§£ä¼˜åŒ–ç»†èŠ‚

---

## ğŸ‰ å¼€å§‹ä½¿ç”¨

```bash
# ç»ˆç«¯1ï¼šå¯åŠ¨åç«¯
cd app-device
mvn spring-boot:run

# ç»ˆç«¯2ï¼šå¯åŠ¨å‰ç«¯
cd app-web
npm run dev

# æµè§ˆå™¨è®¿é—®
open http://localhost:5173
```

**äº«å—ä¼˜åŒ–åçš„ VoiceBoxï¼** ğŸš€
